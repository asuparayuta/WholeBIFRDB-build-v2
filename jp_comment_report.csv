file,line_or_cell,snippet
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,381,"return gr.update(value=""Sender と Receiver を入力/選択してください。""), empty, empty, empty, empty"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,387,"return gr.update(value=f""**未存在**：Connections に `{sender}` → `{receiver}` の行はありません。""), empty, empty, empty, empty"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,390,"msg = gr.update(value=f""**存在します**：`{sender}` → `{receiver}`（connections: {len(df_conn)} 件）"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,426,"return (gr.update(value=""領域を選択してください。""),"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,441,"msg = f""選択: `{rid}` — as **Sender**: {cnt_s} 件 / as **Receiver**: {cnt_r} 件"""
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,487,"return (gr.update(value=""領域を先に選択してください。""), empty, empty, empty, empty)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,501,"return (gr.update(value=""対向候補を選択してください。""), empty, empty, empty, empty)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,508,"return (gr.update(value=""表示をクリアしました。""), empty, empty, empty, empty)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,526,"query = gr.Textbox(label=""キーワード"", placeholder=""2文字以上でサジェスト"", scale=4)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,527,"limit = gr.Slider(label=""最大件数"", minimum=5, maximum=100, value=20, step=5, scale=1)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,531,"suggest = gr.Dropdown(label=""候補 Circuit ID"", choices=[], interactive=True, allow_custom_value=False)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,533,"diag = gr.Code(label=""診断情報"", interactive=False)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,535,"with gr.Accordion(""A. Circuit に類似"", open=True):"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,542,"with gr.Accordion(""B. Receiver に類似"", open=True):"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,569,"sender_q = gr.Textbox(label=""Sender (Circuit ID)"", placeholder=""2文字以上でサジェスト"", scale=3)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,570,"receiver_q = gr.Textbox(label=""Receiver (Receiver ID)"", placeholder=""2文字以上でサジェスト"", scale=3)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,575,"suggest_sender = gr.Dropdown(label=""候補（Circuit ID）"", choices=[], interactive=True, allow_custom_value=False)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,576,"suggest_receiver = gr.Dropdown(label=""候補（Receiver ID）"", choices=[], interactive=True, allow_custom_value=False)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,605,"region_text = gr.Textbox(label=""領域（ID/Names/Receiver）"", placeholder=""2文字以上でサジェスト"", scale=3)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,606,"region_suggest = gr.Dropdown(label=""候補（クリックで確定）"", choices=[], interactive=True, allow_custom_value=False, scale=2)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,607,"mode = gr.Radio(label=""方向"", choices=[""Auto"",""Use as Sender"",""Use as Receiver""], value=""Auto"", scale=2)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,610,"receivers_dd = gr.Dropdown(label=""対向候補（あなたが Sender のときの Receivers）"", choices=[], interactive=False, allow_custom_value=False)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,611,"senders_dd   = gr.Dropdown(label=""対向候補（あなたが Receiver のときの Senders）"", choices=[], interactive=False, allow_custom_value=False)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public_v2.py,650,"gr.Markdown(""— ヒント: `CREATE EXTENSION IF NOT EXISTS pg_trgm;` を有効にするとサジェスト/検索の精度が上がります。—"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,6,- Query Explorer（類似検索）
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,7,- Pair Lookup（Sender/Receiver を個別指定）
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,8,- Flex Pair Finder（1領域から柔軟に対向候補 → ペア確定）
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,9,- 公開用ランチャー機能（--share / --host / --port / --auth）
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,13,# 一時公開（共有リンク発行、超手軽）
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,16,# LAN/インターネット公開（自前で待ち受け、ポート開放など必要）
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,28,- 公開時は必ず --auth または GRADIO_AUTH を設定してください。
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,29,- 本番運用では、逆プロキシ + TLS（Caddy/NGINX）を推奨します。
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,226,"""""""circuits.circuit_id / circuits.names / connections.receiver_circuit_id を横断して候補提示"""""""
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,301,"""クエリを入力してください。"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,558,"return gr.update(value=""Sender と Receiver を入力/選択してください。""), empty, empty, empty, empty"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,571,"return gr.update(value=f""**未存在**：Connections に `{sender}` → `{receiver}` の行はありません。""), empty, empty, empty, empty"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,631,# fallback: connections を evidence風に
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,662,"msg = gr.update(value=f""**存在します**：`{sender}` → `{receiver}`（connections: {len(df_conn)} 件）"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,670,"""""""選ばれた領域が Sender/Receiver のどちらに現れるかを判定し、対向候補を返す"""""""
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,673,"return (gr.update(value=""領域を選択してください。""),"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,710,"msg = f""選択: `{rid}` — as **Sender**: {cnt_s} 件 / as **Receiver**: {cnt_r} 件"""
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,726,"""""""候補を再計算したうえで、結果表示をクリア"""""""
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,733,"""""""モード切替に応じて、どちらのドロップダウンを操作可能にするかを制御"""""""
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,755,"""""""モードと選択に応じて sender/receiver を決定し、ペア検索"""""""
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,759,"return (gr.update(value=""領域を先に選択してください。""), empty, empty, empty, empty)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,773,"return (gr.update(value=""対向候補を選択してください。""), empty, empty, empty, empty)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,779,"""""""結果領域だけをクリア（候補リストや選択は保持）"""""""
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,781,"return (gr.update(value=""表示をクリアしました。""), empty, empty, empty, empty)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,785,"""""""現在の領域から候補を再計算し、結果をクリア"""""""
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,801,"gr.Markdown(""クエリに「類似」する Circuit / Receiver を探索し、関連する Connections / References / Evidence / Scores を**別エリア**に表示。"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,803,"query = gr.Textbox(label=""キーワード（例: 'Thalamus', 'CA1' など）"", placeholder=""入力すると候補が出ます"", scale=4)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,804,"limit = gr.Slider(label=""最大件数"", minimum=5, maximum=100, value=20, step=5, scale=1)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,807,"suggest = gr.Dropdown(label=""候補 Circuit ID（クリックで確定）"", choices=[], interactive=True, allow_custom_value=False)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,809,"diag = gr.Code(label=""診断情報（flags / ヒット件数）"", interactive=False)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,811,"with gr.Accordion(""A. Circuit に類似（Circuit ID / Names）"", open=True):"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,812,"gr.Markdown(""**(1) 類似 Circuit**"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,815,"gr.Markdown(""**(2) 関係を持つ Connections（送信: Matched Circuits → 受信）**"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,818,"gr.Markdown(""**(3) 関係する References**（Connections の Reference ID に基づく）"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,821,"gr.Markdown(""**(4) 関係する Evidence**（Evidence が無ければ、Connections を代替表示）"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,824,"gr.Markdown(""**(5) 関係する Scores**（scores が無い場合は connections の rating を代替表示）"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,827,"with gr.Accordion(""B. Receiver に類似（Connections.receiver_circuit_id）"", open=True):"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,828,"gr.Markdown(""**(1) 類似 Receiver ID**"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,831,"gr.Markdown(""**(2) 関係を持つ Connections（送信 → 受信: Matched Receivers）**"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,834,"gr.Markdown(""**(3) 関係する References**"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,837,"gr.Markdown(""**(4) 関係する Evidence**（Evidence が無ければ、Connections を代替表示）"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,840,"gr.Markdown(""**(5) 関係する Scores**（scores が無い場合は connections の rating を代替表示）"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,863,"gr.Markdown(""**Sender（Circuit ID）** と **Receiver（Receiver ID）** を指定して、Connections の**存在確認**と、関連する **References / Evidence / Scores** を別エリアで表示します。"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,866,"sender_q = gr.Textbox(label=""Sender (Circuit ID)"", placeholder=""例: CA1 など、候補から選ぶのがおすすめ"", scale=3)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,867,"receiver_q = gr.Textbox(label=""Receiver (Receiver ID)"", placeholder=""例: DG など、候補から選ぶのがおすすめ"", scale=3)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,871,"suggest_sender = gr.Dropdown(label=""候補（Circuit ID）"", choices=[], interactive=True, allow_custom_value=False)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,872,"suggest_receiver = gr.Dropdown(label=""候補（Receiver ID）"", choices=[], interactive=True, allow_custom_value=False)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,908,"gr.Markdown(""1つの脳領域から出発し、Sender/Receiver のどちらでも柔軟に対向候補を絞り込み、ペアを確定します。"")"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,911,"region_text = gr.Textbox(label=""領域（ID/Names/Receiverに部分一致）"", placeholder=""2文字以上でサジェスト"", scale=3)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,912,"region_suggest = gr.Dropdown(label=""候補（クリックで確定）"", choices=[], interactive=True, allow_custom_value=False, scale=2)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,913,"mode = gr.Radio(label=""方向"", choices=[""Auto"",""Use as Sender"",""Use as Receiver""], value=""Auto"", scale=2)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,916,"receivers_dd = gr.Dropdown(label=""対向候補（あなたが Sender のときの Receivers）"", choices=[], interactive=False, allow_custom_value=False, scale=3)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,917,"senders_dd   = gr.Dropdown(label=""対向候補（あなたが Receiver のときの Senders）"", choices=[], interactive=False, allow_custom_value=False, scale=3)"
WholeBIFRDB-build/src/visualize/gradio_wholebif_query_app_flexpair_public.py,954,"gr.Markdown(""— ヒント: `CREATE EXTENSION IF NOT EXISTS pg_trgm;` を有効にするとサジェスト/検索の精度が上がります。—"")"
